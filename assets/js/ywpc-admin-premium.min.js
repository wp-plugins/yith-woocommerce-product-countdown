function ywpc_resize_thickbox(){var e=400,t=350,n=jQuery("#TB_window"),a=jQuery("#TB_iframeContent"),c=jQuery("#wpadminbar"),i=jQuery(window).width(),r=jQuery(window).height(),o=0;c.length&&(o=parseInt(c.css("height"),10));var s=e+50>i?i-50:e,_=t+45+o>r?r-45-o:t;n.css({marginLeft:-(s/2),marginTop:-(_/2),top:"50%",width:s,height:_}),a.css({padding:"10px",width:s-20,height:_-50})}jQuery(function(e){function t(){var e={formatMatches:function(e){return 1===e?wc_enhanced_select_params.i18n_matches_1:wc_enhanced_select_params.i18n_matches_n.replace("%qty%",e)},formatNoMatches:function(){return wc_enhanced_select_params.i18n_no_matches},formatAjaxError:function(){return wc_enhanced_select_params.i18n_ajax_error},formatInputTooShort:function(e,t){var n=t-e.length;return 1===n?wc_enhanced_select_params.i18n_input_too_short_1:wc_enhanced_select_params.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(e,t){var n=e.length-t;return 1===n?wc_enhanced_select_params.i18n_input_too_long_1:wc_enhanced_select_params.i18n_input_too_long_n.replace("%qty%",n)},formatSelectionTooBig:function(e){return 1===e?wc_enhanced_select_params.i18n_selection_too_long_1:wc_enhanced_select_params.i18n_selection_too_long_n.replace("%qty%",e)},formatLoadMore:function(){return wc_enhanced_select_params.i18n_load_more},formatSearching:function(){return wc_enhanced_select_params.i18n_searching}};return e}function n(){e(":input.ywpc-wc-product-search, :input.ywpc-wc-category-search").filter(":not(.enhanced)").each(function(){var n={allowClear:e(this).data("allow_clear")?!0:!1,placeholder:e(this).data("placeholder"),minimumInputLength:e(this).data("minimum_input_length")?e(this).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{url:wc_enhanced_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t,action:e(this).data("action")||"woocommerce_json_search_products_and_variations",security:wc_enhanced_select_params.search_products_nonce}},results:function(t){var n=[];return t&&e.each(t,function(e,t){n.push({id:e,text:t})}),{results:n}},cache:!0}};e(this).data("multiple")===!0?(n.multiple=!0,n.initSelection=function(t,n){var a=e.parseJSON(t.attr("data-selected")),c=[];return e(t.val().split(",")).each(function(e,t){c.push({id:t,text:a[t]})}),n(c)},n.formatSelection=function(e){return'<div class="selected-option" data-id="'+e.id+'">'+e.text+"</div>"}):(n.multiple=!1,n.initSelection=function(e,t){var n={id:e.val(),text:e.attr("data-selected")};return t(n)}),n=e.extend(n,t()),e(this).select2(n).addClass("enhanced")})}e("body").on("ywpc-wc-enhanced-select-init",function(){n()}).trigger("ywpc-wc-enhanced-select-init"),e(document).on("widget-updated",function(){n()});var a=e("#ywpc_start_sale, #ywpc_end_sale");a.datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(t){var n=e(this).is("#ywpc_start_sale")?"minDate":"maxDate",c=e(this).data("datepicker"),i=e.datepicker.parseDate(c.settings.dateFormat||e.datepicker._defaults.dateFormat,t,c.settings);a.not(this).datepicker("option",n,i)}}),e(document).ready(function(){e("#ywpc_enabled").on("change",function(){e(this).is(":checked")?(e("#ywpc_start_sale").removeAttr("disabled"),e("#ywpc_end_sale").removeAttr("disabled"),e("#ywpc_discount_qty").removeAttr("disabled"),e("#ywpc_sold_qty").removeAttr("disabled")):(e("#ywpc_start_sale").attr("disabled","disabled").val(""),e("#ywpc_end_sale").attr("disabled","disabled").val(""),e("#ywpc_discount_qty").attr("disabled","disabled").val(""),e("#ywpc_sold_qty").attr("disabled","disabled").val(""))})}),e(window).resize(function(){ywpc_resize_thickbox()})});